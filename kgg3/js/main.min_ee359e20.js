var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},__extends=function(e,t){function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},__decorate=function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},__param=function(e,t){return function(n,r){t(n,r,e)}},__metadata=function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},__awaiter=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r["throw"](e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})},__generator=function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,o&&(a=2&n[0]?o["return"]:n[0]?o["throw"]||((a=o["return"])&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(r){n=[6,r],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},__exportStar=function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||__createBinding(t,e,n)},__createBinding=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__values=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a},__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e},__spreadArrays=function(){for(var e=0,t=0,n=arguments.length;n>t;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;n>t;t++)for(var o=arguments[t],a=0,s=o.length;s>a;a++,i++)r[i]=o[a];return r},__await=function(e){return this instanceof __await?(this.v=e,this):new __await(e)},__asyncGenerator=function(e,t,n){function r(e){u[e]&&(l[e]=function(t){return new Promise(function(n,r){_.push([e,t,n,r])>1||i(e,t)})})}function i(e,t){try{o(u[e](t))}catch(n){c(_[0][3],n)}}function o(e){e.value instanceof __await?Promise.resolve(e.value.v).then(a,s):c(_[0][2],e)}function a(e){i("next",e)}function s(e){i("throw",e)}function c(e,t){e(t),_.shift(),_.length&&i(_[0][0],_[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,u=n.apply(e,t||[]),_=[];return l={},r("next"),r("throw"),r("return"),l[Symbol.asyncIterator]=function(){return this},l},__asyncDelegator=function(e){function t(t,i){n[t]=e[t]?function(n){return(r=!r)?{value:__await(e[t](n)),done:"return"===t}:i?i(n):n}:i}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n},__asyncValues=function(e){function t(t){r[t]=e[t]&&function(r){return new Promise(function(i,o){r=e[t](r),n(i,o,r.done,r.value)})}}function n(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r)},__makeTemplateObject=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__setModuleDefault=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t},__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&__createBinding(t,e,n);return __setModuleDefault(t,e),t},__importDefault=function(e){return e&&e.__esModule?e:{"default":e}},__classPrivateFieldGet=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},__reflect=function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n};!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){n(1),n(2),n(0),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(14);var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(e){}),egret.lifecycle.onPause=function(){},egret.lifecycle.onResume=function(){};var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return[4,this.loadResource()];case 1:return n.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return e=n.sent(),[4,platform.login()];case 3:return n.sent(),[4,platform.getUserInfo()];case 4:return t=n.sent(),console.log(t),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),e=new LoadingUI,this.stage.addChild(e),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return n.sent(),[4,this.loadTheme()];case 2:return n.sent(),[4,RES.loadGroup("preload",0,e)];case 3:return n.sent(),this.stage.removeChild(e),[3,5];case 4:return t=n.sent(),console.error(t),[3,5];case 5:return[2]}})})},t.prototype.loadTheme=function(){var e=this;return new Promise(function(t,n){var r=new eui.Theme("resource/default.thm.json",e.stage);r.addEventListener(eui.UIEvent.COMPLETE,function(){t({})},e)})},t.prototype.createGameScene=function(){var e=new Game3Page;this.addChild(e),e.width=karl_global_consts.stage_w,e.height=karl_global_consts.stage_h;var t=new eui.Button;t.label="Click!",t.right=20,t.top=20,this.addChild(t),t.visible=!1,t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClick,this)},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,n=RES.getRes(e);return t.texture=n,t},t.prototype.onButtonClick=function(e){},t}(eui.UILayer);window.Main=r,__reflect(r.prototype,"Main",[])},function(e,t){var n=function(){function e(){}return e.prototype.getAsset=function(e,t,n){function r(r){t.call(n,r,e)}if(RES.hasRes(e)){var i=RES.getRes(e);i?r(i):RES.getResAsync(e,r,this)}else RES.getResByUrl(e,r,this,RES.ResourceItem.TYPE_IMAGE)},e}();window.AssetAdapter=n,__reflect(n.prototype,"AssetAdapter",["eui.IAssetAdapter"])},function(e,t){var n=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.onProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);window.LoadingUI=n,__reflect(n.prototype,"LoadingUI",["RES.PromiseTaskReporter"])},function(e,t){var n=function(){function e(){}return e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();window.DebugPlatform=n,__reflect(n.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new n)},function(e,t){var n=function(){function e(){}return e.prototype.getTheme=function(e,t,n,r){function i(e){t.call(r,e)}function o(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),n.call(r))}var a=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(r,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,n){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(r,generateEUI2)},a)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var s=e.replace(".exml","_EUI.json");generateJSON.paths[e]?egret.callLater(function(){t.call(r,generateJSON.paths[e])},this):RES.getResByUrl(s,function(n){window.JSONParseClass.setData(n),egret.callLater(function(){t.call(r,generateJSON.paths[e])},a)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(r,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_TEXT)},e}();window.ThemeAdapter=n,__reflect(n.prototype,"ThemeAdapter",["eui.IThemeAdapter"])},function(e,t){var n=function(e){function t(){var t=e.call(this)||this;t.local_w=670,t.local_h=770,t.config_styles=[],t.lines=[],t.eraser_style=new LinePathStyle(16777215),t.eraser_style.type=1,t.eraser_style.stroke_width=25,t.config_styles.push(new LinePathStyle(8004603)),t.config_styles.push(new LinePathStyle(356309)),t.config_styles.push(new LinePathStyle(5283075)),t.config_styles.push(new LinePathStyle(16754176)),t.config_styles.push(new LinePathStyle(16070144)),t.config_styles.push(new LinePathStyle(14287616)),t.cur_style=t.config_styles[0],t.cmain=new egret.Shape,t.addChild(t.cmain);var n=t.cmain.graphics;return n.clear(),n.beginFill(16777215,1),n.drawRect(0,0,t.local_w,t.local_h),n.endFill(),t.cur_line=null,t}return __extends(t,e),t.prototype.change_brush=function(e){this.cur_style=this.config_styles[e]},t.prototype.use_eraser=function(){this.cur_style=this.eraser_style},t.prototype.undo=function(){this.lines.length<1||(this.lines.pop(),this._repaint())},t.prototype.reset=function(){var e=this.cmain.graphics;e.clear(),e.beginFill(16777215,1),e.drawRect(0,0,this.local_w,this.local_h),e.endFill(),this.lines=[],this.cur_style=this.config_styles[0]},t.prototype.handle_touch_start=function(e){this.cur_line=new LinePath,this.lines.push(this.cur_line),this.cur_line.style=this.cur_style.Copy(),this.cmain.graphics.lineStyle(this.cur_line.style.stroke_width,this.cur_line.style.stroke_clr);var t=e.stageX,n=e.stageY,r=this.globalToLocal(t,n);this.cur_line.points.push(r),this.cmain.graphics.moveTo(r.x,r.y)},t.prototype.handle_touch_move=function(e){var t=e.stageX,n=e.stageY,r=this.globalToLocal(t,n);this.cur_line.points.push(r),this.cmain.graphics.lineTo(r.x,r.y)},t.prototype.handle_touch_end=function(e){},t.prototype._repaint=function(){var e=this.cmain.graphics;e.clear(),e.beginFill(16777215,1),e.drawRect(0,0,this.local_w,this.local_h),e.endFill();for(var t=this.lines.length,n=0;t>n;n++){var r=this.lines[n];e.lineStyle(r.style.stroke_width,r.style.stroke_clr);var i=r.points.length;if(!(2>i)){var o=r.points[0];e.moveTo(o.x,o.y);for(var a=1;i>a;a++)e.lineTo(r.points[a].x,r.points[a].y)}}},t}(eui.Group);window.EgretDrawingPanel=n,__reflect(n.prototype,"EgretDrawingPanel",[])},function(e,t){var n=function(e){function t(){var t=e.call(this)||this;return t.page_ui=new Game3UI(function(){t._init_page()}),t.addChild(t.page_ui),t.page_ui.width=karl_global_consts.stage_w,t.page_ui.height=karl_global_consts.stage_h,t}return __extends(t,e),t.prototype._init_page=function(){var e=this;this.drawing_canvas=new EgretDrawingPanel,this.page_ui.canvas_container.addChild(this.drawing_canvas),this.drawing_canvas.percentWidth=0,this.drawing_canvas.percentHeight=0,this.global_area=new eui.Rect,this.page_ui.canvas_container.addChild(this.global_area),this.global_area.percentWidth=100,this.global_area.percentHeight=100,this.global_area.fillColor=65280,this.global_area.touchEnabled=!0,this.global_area.alpha=0,this.global_area.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.drawing_canvas.handle_touch_start,this.drawing_canvas),this.global_area.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.drawing_canvas.handle_touch_move,this.drawing_canvas),this.global_area.addEventListener(egret.TouchEvent.TOUCH_END,this.drawing_canvas.handle_touch_end,this.drawing_canvas),this.global_area.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.drawing_canvas.handle_touch_end,this.drawing_canvas),this.page_ui.btn_eraser.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){e.drawing_canvas.use_eraser()},this),this.page_ui.btn_undo.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){e.drawing_canvas.undo()},this),this.page_ui.btn_clear.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){e.drawing_canvas.reset()},this),this.page_ui.clr_purple.fill(this.drawing_canvas.config_styles[0].stroke_clr),this.page_ui.clr_blue.fill(this.drawing_canvas.config_styles[1].stroke_clr),this.page_ui.clr_green.fill(this.drawing_canvas.config_styles[2].stroke_clr),this.page_ui.clr_yellow.fill(this.drawing_canvas.config_styles[3].stroke_clr),this.page_ui.clr_red_light.fill(this.drawing_canvas.config_styles[4].stroke_clr),this.page_ui.clr_red_dark.fill(this.drawing_canvas.config_styles[5].stroke_clr),this.page_ui.clr_purple.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){e.drawing_canvas.change_brush(0)},this),this.page_ui.clr_blue.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){e.drawing_canvas.change_brush(1)},this),this.page_ui.clr_green.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){e.drawing_canvas.change_brush(2)},this),this.page_ui.clr_yellow.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){e.drawing_canvas.change_brush(3)},this),this.page_ui.clr_red_light.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){e.drawing_canvas.change_brush(4)},this),this.page_ui.clr_red_dark.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){e.drawing_canvas.change_brush(5)},this)},t.prototype.set_bg_color=function(e,t){void 0===t&&(t=1);var n=new eui.Rect;return this.addChildAt(n,0),n.fillColor=e,n.percentWidth=100,n.percentHeight=100,n.alpha=t,n},t}(eui.Group);window.Game3Page=n,__reflect(n.prototype,"Game3Page",[])},function(e,t){var n=function(e){function t(t){var n=e.call(this)||this;return n.skinName="resource/eui_skins/page_skins/Game3Page.exml",setTimeout(function(){t()},0),n}return __extends(t,e),t}(eui.Component);window.Game3UI=n,__reflect(n.prototype,"Game3UI",[])},function(e,t){var n=function(){function e(){this.points=[]}return e}();window.LinePath=n,__reflect(n.prototype,"LinePath",[])},function(e,t){var n;!function(e){e[e.normal=0]="normal",e[e.eraser=1]="eraser"}(n||(n={})),window.LinePathType=n;var r=function(){function e(e){this.type=0,this.stroke_width=5,this.stroke_clr=e}return e.prototype.Copy=function(){var t=new e(this.stroke_clr);return t.type=this.type,t.stroke_width=this.stroke_width,t},e}();window.LinePathStyle=r,__reflect(r.prototype,"LinePathStyle",[])},function(e,t){var n=function(e){function t(){var t=e.call(this)||this;return t.radius=25,t.ssize=50,t.shape=new egret.Shape,t.addChild(t.shape),t}return __extends(t,e),t.prototype.fill=function(e){var t=this.shape.graphics;t.clear(),t.beginFill(e),t.drawCircle(this.radius,this.radius,this.radius),t.endFill()},t}(eui.Group);window.ColorButton=n,__reflect(n.prototype,"ColorButton",[])},function(e,t){var n=window.game3;window.game3=n},function(e,t){var n=function(){function e(){this._is_destroyed=!1,this.ddid=0}return e.prototype.Destroy=function(){this._is_destroyed=!0,this._target=null,this._fun=null,this._param=null},e.prototype.dispatch=function(e,t,n,r){var i=this;void 0===r&&(r=null),this._is_destroyed=!1,this._delay_time=e,this._target=t,this._fun=n,this._param=r,setTimeout(function(){i.execute_fun()},e)},e.prototype.execute_fun=function(){this._is_destroyed||(this._target&&this._fun&&this._fun.apply(this._target,[this._param]),this.Destroy())},e}();window.DelayDispatcher=n,__reflect(n.prototype,"DelayDispatcher",[])},function(e,t){var n,n=window.karl_global_consts;!function(e){e.stage_w=1080,e.stage_h=810}(n||(n={})),window.karl_global_consts=n},function(e,t){var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.END="END",t}(egret.Event);window.ImgSequencePlayerEvent=n,__reflect(n.prototype,"ImgSequencePlayerEvent",[]);var r=function(e){function t(){var t=e.call(this)||this;return t._img_count=0,t._anim_count=0,t._frame_cursor=0,t._play_cursor=0,t._anim_count_cursor=0,t._frame_interval=3,t._bmp=new eui.Image,t.addChild(t._bmp),t._bmp.percentWidth=100,t._bmp.percentHeight=100,t._bmp.fillMode=egret.BitmapFillMode.SCALE,t._play_cursor=-1,t._frame_interval=1,t}return __extends(t,e),t.prototype.destroy=function(){this._is_destroyed||(this.removeEventListener(egret.Event.ENTER_FRAME,this._update,this),this.stop_play(),this._texts=null,this.removeChild(this._bmp),this._bmp=null,this._is_destroyed=!0)},t.prototype.player_init=function(e,t,n){this._texts=new Array(t),this._img_count=t,this._anim_count=n,this.refresh_img(e,t),this.addEventListener(egret.Event.ENTER_FRAME,this._update,this)},t.prototype._get_full_key=function(e,t){var n=39-t,r="";r=10>n?"0"+n:""+n;var i="g1bg_00"+r+"_Layer "+(t+1)+"_jpg";return i},t.prototype.refresh_img=function(e,t){if(!this._is_destroyed&&this._texts)for(var n=0;t>n;n++){var r=this._get_full_key(e,n),i=RES.getRes(r);i?this._texts[n]=i:this._texts[n]=null}},t.prototype.start_play=function(){if(this._frame_cursor=0,this._play_cursor=0,this._anim_count_cursor=0,this.visible=!0,this._texts&&this._texts.length>0&&this._bmp){var e=this._texts[0];this._bmp.texture=e}},t.prototype.stop_play=function(){this._play_cursor=-1},t.prototype._update=function(e){if(!(this._is_destroyed||this._play_cursor<0||(this._frame_cursor++,this._frame_cursor%this._frame_interval!=0))){var t=this._texts[this._play_cursor];this._bmp.texture=t,this._play_cursor++,this._play_cursor>this._img_count-1&&(this._play_cursor=0,this._anim_count_cursor++,this._anim_count>0&&this._anim_count_cursor>=this._anim_count&&(this._play_cursor=-1,this.dispatchEvent(new n(n.END)),this.visible=!1))}},t.prototype.modify_speed=function(e){0>e||(this._frame_interval=e)},t}(eui.Group);window.ImgSequencePlayer=r,__reflect(r.prototype,"ImgSequencePlayer",[])}]);